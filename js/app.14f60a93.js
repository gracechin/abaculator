(function(){"use strict";var __webpack_modules__={3936:function(e,a,r){var _=r(9242),t=r(4460),u=r(3396);const c={class:"container"},n=(0,u._)("h1",null,"Calculator with Abacus Visualisations",-1),s=(0,u._)("footer",null,[(0,u.Uk)("Made for fun by "),(0,u._)("a",{href:"https://gracechin.github.io"},"Grace Chin"),(0,u.Uk)(".")],-1);function o(e,a,r,_,t,o){const i=(0,u.up)("Abacus"),l=(0,u.up)("Calculator");return(0,u.wg)(),(0,u.iD)("div",c,[n,(0,u.Wm)(i),(0,u.Wm)(l),s])}var i=r(2268);const l={class:"deck deck-upper"},p={class:"deck deck-lower"};function d(e,a,r,_,t,c){return(0,u.wg)(),(0,u.iD)("div",{class:(0,i.C_)(["abacus",{abacusDisabled:this.$store.state.disableAbacus}])},[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(this.$store.state.abacusArr,((e,a)=>((0,u.wg)(),(0,u.iD)("div",{class:(0,i.C_)(["col",`col-${e}`]),key:a},[(0,u._)("div",l,[((0,u.wg)(),(0,u.iD)(u.HY,null,(0,u.Ko)(2,(e=>(0,u._)("div",{class:"bead",key:e}))),64))]),(0,u._)("div",p,[((0,u.wg)(),(0,u.iD)(u.HY,null,(0,u.Ko)(5,(e=>(0,u._)("div",{class:"bead",key:e}))),64))])],2)))),128))],2)}var b={name:"TheAbacus",data(){return{}},methods:{}},w=r(89);const k=(0,w.Z)(b,[["render",d],["__scopeId","data-v-0df9e985"]]);var f=k;const h={class:"calculator"},v={class:"display"},A=["onClick"];function m(e,a,r,_,t,c){return(0,u.wg)(),(0,u.iD)("div",h,[(0,u._)("div",v,(0,i.zw)(this.$store.state.currValue||"0"),1),((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(t.calculatorElements,(e=>((0,u.wg)(),(0,u.iD)("div",{class:(0,i.C_)(["button",{operator:["/","x","+","C","=","-"].includes(e)}]),key:e,onClick:a=>c.action(e)},(0,i.zw)(e),11,A)))),128))])}const V=r(9438);var g={name:"TheCalculator",data(){return{calculatorElements:[7,8,9,"/",4,5,6,"x",1,2,3,"+","C",0,"=","-"],operator:null,operatorPressed:!1,sound:V}},mounted(){this._keyListener=function(e){return console.log(e.key),e.preventDefault(),this.action(e.key)},document.addEventListener("keyup",this._keyListener.bind(this))},methods:{clear(){t.h.commit("clearSaved"),this.operator=null},action(e){isNaN(e)||t.h.commit("appendValue",e),"C"!==e&&"c"!==e&&"Backspace"!==e||(t.h.commit("resetValue"),this.playSound(this.sound),this.clear()),["/","x","+","-","*"].includes(e)&&(this.operator="x"===e?"*":e,t.h.commit("evaluate",this.operator),t.h.commit("saveValue",this.$store.state.currValue),this.playSound(this.sound)),"="!==e&&"Enter"!==e||(t.h.commit("evaluate",this.operator),this.playSound(this.sound),this.clear())},playSound(e){if(e){var a=new Audio(e);a.play()}}}};const U=(0,w.Z)(g,[["render",m],["__scopeId","data-v-6a9c7e30"]]);var q=U,y={name:"App",components:{Abacus:f,Calculator:q}};const C=(0,w.Z)(y,[["render",o]]);var E=C;const D=(0,_.ri)(E);D.use(t.h),D.mount("#app")},4460:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{h:function(){return store}});var vuex__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7139);const DEFAULT_CURR_VALUE="0",DEFAULT_ABACUS_ARR=new Array(9).fill(0),store=(0,vuex__WEBPACK_IMPORTED_MODULE_0__.MT)({state(){return{currValue:DEFAULT_CURR_VALUE,savedValue:null,operatorPressed:!1,abacusArr:DEFAULT_ABACUS_ARR,disableAbacus:!1}},mutations:{evaluate(state,op){state.operatorPressed=!0;const calcValue=state.savedValue?eval(state.savedValue+op+state.currValue):state.currValue;state.currValue=calcValue;const digits=calcValue.toString().split("").map(Number);if(calcValue%1!=0||digits.length>=8)return state.abacusArr=DEFAULT_ABACUS_ARR,void(state.disableAbacus=!0);state.abacusArr=new Array(9-digits.length).fill(0).concat(digits),state.disableAbacus=!1},saveValue(e,a){e.savedValue=a},resetValue(e){e.currValue=DEFAULT_CURR_VALUE,e.abacusArr=DEFAULT_ABACUS_ARR,e.disableAbacus=!1},clearSaved(e){e.savedValue=null},appendValue(e,a){e.operatorPressed&&(e.currValue=DEFAULT_CURR_VALUE,e.operatorPressed=!1),e.currValue=e.currValue==DEFAULT_CURR_VALUE?a:`${e.currValue}${a}`}},actions:{},getters:{}})},9438:function(e,a,r){e.exports=r.p+"media/abacus.8b978558.mp3"}},__webpack_module_cache__={};function __webpack_require__(e){var a=__webpack_module_cache__[e];if(void 0!==a)return a.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.m=__webpack_modules__,function(){var e=[];__webpack_require__.O=function(a,r,_,t){if(!r){var u=1/0;for(o=0;o<e.length;o++){r=e[o][0],_=e[o][1],t=e[o][2];for(var c=!0,n=0;n<r.length;n++)(!1&t||u>=t)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](r[n])}))?r.splice(n--,1):(c=!1,t<u&&(u=t));if(c){e.splice(o--,1);var s=_();void 0!==s&&(a=s)}}return a}t=t||0;for(var o=e.length;o>0&&e[o-1][2]>t;o--)e[o]=e[o-1];e[o]=[r,_,t]}}(),function(){__webpack_require__.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(a,{a:a}),a}}(),function(){__webpack_require__.d=function(e,a){for(var r in a)__webpack_require__.o(a,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){__webpack_require__.p="/abaculator/"}(),function(){var e={143:0};__webpack_require__.O.j=function(a){return 0===e[a]};var a=function(a,r){var _,t,u=r[0],c=r[1],n=r[2],s=0;if(u.some((function(a){return 0!==e[a]}))){for(_ in c)__webpack_require__.o(c,_)&&(__webpack_require__.m[_]=c[_]);if(n)var o=n(__webpack_require__)}for(a&&a(r);s<u.length;s++)t=u[s],__webpack_require__.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return __webpack_require__.O(o)},r=self["webpackChunkabaculater"]=self["webpackChunkabaculater"]||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))}();var __webpack_exports__=__webpack_require__.O(void 0,[998],(function(){return __webpack_require__(3936)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.14f60a93.js.map